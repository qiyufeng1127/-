<!DOCTYPE html>   <ï¼DOCTYPE html   è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ >
<html lang="zh-CN">   < html   è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ lang   æœ— = "åº”ç”¨" >
<head>   < >è´Ÿè´£äºº
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Great Me - ä¼Ÿå¤§ä¹‹æˆ‘ V13.5</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>< script   è„šæœ¬ src = " https://cdn.jsdelivr.net
pm/@supabase supabase-js@2 " > < /è„šæœ¬>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>< script   è„šæœ¬ src = " https://cdn.jsdelivr.net
pm/chart.js " > < /è„šæœ¬>
    <style>
        :root   æ ¹ { --bg: #f4f7fb; --card: #ffffff; --p: #ff4d94; --g: #ffb800; --blue: #339af0; }
        * { box   ç›’å­-sizing   åˆ†çº§: border   è¾¹å¢ƒ-box   ç›’å­; }
        body { background   èƒŒæ™¯: var(--bg); font   å­—ä½“-family   å®¶åº­: -apple   è‹¹æœ-system   ç³»ç»Ÿ, sans   æ²¡æœ‰-serif   è¡¬çº¿; margin   ä¿è¯é‡‘: 0; display   æ˜¾ç¤º: flex; justify-content   å†…å®¹: center   ä¸­å¿ƒ; height: 100vh; padding: 20px; gap: 20px; color: #333; }
        
        /* å“åº”å¼å¸ƒå±€ï¼šæ‰‹æœºè‡ªåŠ¨å †å ï¼Œç”µè„‘æ¨ªæ’ */
        @media (max-width: 1000px) { body { flex-direction: column; height: auto; overflow-y: auto; } .panel { width: 100% !important; min-height: 400px; } }

        .panel { background: var(--card); border-radius: 32px; padding: 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.05); display: flex; flex-direction: column; transition: 0.3s; border: 1px solid rgba(0,0,0,0.02); }
        .side { width: 320px; }
        .main { flex: 1; }

        h3 { font-size: 18px; margin-top: 0; display: flex; align-items: center; gap: 8px; }
        
        /* æ°”æ³¡æ ·å¼ */
        .bubble { padding: 15px 20px; border-radius: 20px; margin-bottom: 12px; background: #f8f9fa; border-left: 5px solid #dee2e6; line-height: 1.5; font-size: 15px; animation: slideIn 0.3s ease; }
        .pos { border-left-color: var(--blue); background: #e7f5ff; color: #1c7ed6; }
        .neg { border-left-color: #ff6b6b; background: #fff5f5; color: #c92a2a; }

        /* è¾“å…¥æ¡† */
        .input-bar { background: #f1f3f5; border-radius: 24px; padding: 5px 15px; display: flex; align-items: center; border: 2px solid transparent; }
        .input-bar:focus-within { background: #fff; border-color: var(--p); box-shadow: 0 4px 12px rgba(255, 77, 148, 0.1); }
        input { border: none; background: transparent; flex: 1; padding: 12px; outline: none; font-size: 16px; width: 100%; }

        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        #dumpArea { flex: 1; overflow-y: auto; padding-right: 5px; margin: 15px 0; }
        #dumpArea::-webkit-scrollbar { width: 4px; }
        #dumpArea::-webkit-scrollbar-thumb { background: #ddd; border-radius: 10px; }
    </style>
</head>
<body>

    <div class="panel side">
        <h3>ğŸ“Š ç‰¹å·¥å±æ€§çœ‹æ¿</h3>
        <div style="flex:1; display:flex; align-items:center;"><canvas id="radar"></canvas></div>
        <div style="background:#f8f9fa; padding:15px; border-radius:20px; font-size:13px; color:#666;">
            çŠ¶æ€ï¼šå·²è¿æ¥äº‘ç«¯åŒæ­¥<br>æ˜¨æ—¥æ‰§è¡Œç‡ï¼š65% â†‘
        </div>
    </div>

    <div class="panel main">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3>ğŸ§  æ„è¯†æµæ•æ‰</h3>
            <span style="font-size:24px; font-weight:bold; color:var(--g);">ğŸª™ <span id="coins">1000</span></span>
        </div>
        <div id="dumpArea"></div>
        <div class="input-bar">
            <input type="text" id="masterInput" placeholder="åœ¨æ­¤æ•æ‰çµæ„Ÿï¼Œå›è½¦è‡ªåŠ¨åŒæ­¥...">
        </div>
    </div>

    <div class="panel side">
        <h3>âœ¨ AI æˆ˜ç•¥å»ºè®®</h3>
        <div id="aiStatus" style="font-size:15px; line-height:1.7; color:#555;">
            æ­£åœ¨ç›‘å¬æ‚¨çš„â€œèµšé’±ä¸»çº¿â€... è¯·è®°å½•ä¸€äº›æƒ³æ³•ï¼Œæˆ‘ä¼šä¸ºæ‚¨åˆ†æã€‚
        </div>
        <button onclick="location.reload()" style="margin-top:auto; padding:15px; border-radius:18px; border:none; background:var(--p); color:white; font-weight:bold; cursor:pointer;">åˆ·æ–°åŒæ­¥</button>
    </div>

<script>
    // é…ç½®äº‘ç«¯
    const SUPABASE_URL = 'https://zcnmdyvaxrjjhvymjzsb.supabase.co';const SUPABASE_URL = 'https://zcnmdyvaxrjjhvymjzsb.supabase.co'ï¼›
    const SUPABASE_KEY = 'sb_publishable_JVEN8RBiF0xuPKl2oVhpQA_rywUiJTY';const SUPABASE_KEY = ' sb_publishhable_jven8rbif0xupkl2ovhpqa_rywuijty 'ï¼›
    const _supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);Const _supabase = supabaseã€‚createClient (SUPABASE_URL SUPABASE_KEY);

    // åŠ è½½æ•°æ®
    async function init() {   å¼‚æ­¥å‡½æ•°init() {
        const { data, error } = await _supabase.from('life_logs').select('*').order('created_at', { ascending: false });
        if (data) {   If (data) {
            const area = document.getElementById('dumpArea');const area = document.getElementById('dumpArea')ï¼›
            area.innerHTML = '';
            let currentCoins = 1000;
            data.forEach(log => {   æ•°æ®ã€‚forEach(log => {
                const div = document.createElement('div');const div = document.createElement('div')ï¼›
                div.className = `bubble ${log.category || 'note'}`;div.className = ' bubble ${log.category || 'note'} 'ï¼›
                div.innerText = log.content;
                area.appendChild(div);
                currentCoins += (log.coins || 0);currentCoins = ï¼ˆlog.ï¼‰ç¡¬å¸|| 0)ï¼›
            });
            document.getElementById('coins').innerText = currentCoins;
        }
    }

    // å¤„ç†å›è½¦
    document.getElementById('masterInput').addEventListener('keypress', async (e) => {. getelementbyid(â€œmasterInputâ€)ã€‚addEventListener('keypress', async (e) => {
        if (e.key === 'Enter' && e.target.value.trim()) {if (e.key === 'Enter' && e.target.valueã€‚å‰Šå‡()){
            const val = e.target.value;   const val = e.target.valueï¼›
            let type = 'note';   Let type = 'note'ï¼›
            let reward = 0;   è®¾å¥–åŠ±= 0ï¼›
            if (/(å‘|å†™|åš|å­¦|å®Œæˆ|å°çº¢ä¹¦|æ‹|èµšé’±)/.test(val)) { type = 'pos'; reward = 50; }
            else if (/(ç„¦è™‘|æ‹–å»¶|ä¸æƒ³|ç´¯)/.test(val)) { type = 'neg'; reward = -100; }
            
            await _supabase.from('life_logs').insert([{ content: val, category: type, coins: reward }]);Await _supabase.from('life_logs').insert([{content: val, category: type, coins: reward}])ï¼›
            e.target.value = '';
            init();
        }
    });

    init();

    // ç»˜åˆ¶å±æ€§å›¾
    const ctx = document.getElementById('radar').getContext('2d');const ctx = document.getElementById('radar').getContext('2d')ï¼›
    new Chart(ctx, {   æ–°å»ºå›¾è¡¨(ctx, {
        type: 'radar',
        data: {
            labels: ['æ‰§è¡Œ', 'ç›®æ ‡', 'æ´å¯Ÿ', 'åˆ›æ–°', 'æ¢å¤', 'ä¸“æ³¨'],
            datasets: [{
                data: [65, 75, 50, 40, 85, 60],
                backgroundColor: 'rgba(255, 77, 148, 0.15)',
                borderColor: '#ff4d94',
                borderWidth: 2,
                pointRadius: 0
            }]
        },
        options: { scales: { r: { min: 0, max: 100, ticks: { display: false }, grid: { color: 'rgba(0,0,0,0.05)' } } }, plugins: { legend: { display: false } } }
    });
</script>   > < /è„šæœ¬
</body>   èº«ä½“< / >
</html>
