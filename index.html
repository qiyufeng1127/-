<!DOCTYPE html>   <ï¼DOCTYPE html >
<html lang="zh-CN">   < html lang = "åº”ç”¨" >
<head>   < >è´Ÿè´£äºº
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Great Me - AI ç‰¹å·¥ç³»ç»Ÿ V14.5</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>< script src = " https://cdn.jsdelivr.net
pm/@supabase supabase-js@2 " > < /è„šæœ¬>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>< script src = " https://cdn.jsdelivr.net
pm/chart.js " > < /è„šæœ¬>
    <style>
        :root { --bg: #050505; --card: #121214; --p: #ff4d94; --blue: #00d2ff; --g: #ffb800; --text: #e0e0e0; }ï¼šroot{â€”bg: #050505ï¼›â€”â€”å¡:# 121214;â€”â€”p: # ff4d94;â€”â€”è“è‰²:# 00 d2ff;â€”â€”g: # ffb800;â€”â€”æ–‡æœ¬:# e0e0e0;ï½
        body { background: var(--bg); color: var(--text); font-family: 'PingFang SC', sans-serif; margin: 0; display: grid; grid-template-columns: 350px 1fr 350px; height: 100vh; gap: 20px; padding: 20px; box-sizing: border-box; }body {background: varï¼ˆâ€”â€”bgï¼‰ï¼›æ´»åŠ¨ä¸­ä¸€:var(â€¦)æ–‡æœ¬;å­—ä½“å®¶æ—ï¼šâ€˜PingFang SCâ€™ï¼Œæ— è¡¬çº¿å­—ä½“ï¼›margin: 0;å±å¹•:å…¨å›½æœ€å¥½;ç½‘æ ¼æ¨¡æ¿-åˆ—ï¼š350px 1fr 350pxï¼›height: 100vh;gap: 20px;padding: 20px;box-sizing: border-box;â€¦â€¦
        @media (max-width: 1100px) { body { grid-template-columns: 1fr; height: auto; overflow-y: auto; } .panel { min-height: 450px; } }
        .panel { background: var(--card); border-radius: 24px; padding: 25px; border: 1px solid #222; display: flex; flex-direction: column; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }ï¼é¢æ¿{èƒŒæ™¯ï¼švarï¼ˆâ€”â€”cardï¼‰ï¼›border - radius: 24 px;å¡«å……:25 px;è¾¹æ¡†ï¼š1pxå®å¿ƒ#222ï¼›æ˜¾ç¤º:flex;flex-direction:åˆ—;ä½ç½®:ç›¸å¯¹;Box-shadow: 10px 30px rgba(0,0,0,0.5)ï¼›ï½
        .panel::before { content: ""; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, var(--p), transparent); }ï¼Panel::before {content: ""ï¼›ä½ç½®:ç»å¯¹çš„;ä¸Šå›¾:0;å·¦:0;å³:0;é«˜åº¦:2 px;èƒŒæ™¯ï¼šçº¿æ€§æ¢¯åº¦ï¼ˆ90åº¦ï¼Œé€æ˜ï¼Œvarï¼ˆâ€”â€”pï¼‰ï¼Œé€æ˜ï¼‰ï¼›ï½
        h3 { font-size: 13px; text-transform: uppercase; letter-spacing: 2px; color: #888; margin: 0 0 15px 0; display: flex; align-items: center; gap: 10px; }
        h3::before { content: "â—"; color: var(--p); font-size: 10px; }H3::before {contentï¼šâ€œâ—â€ï¼›é¢œè‰²:var (- p);å­—ä½“å¤§å°:10 px;ï½
        #dumpArea { flex: 1; overflow-y: auto; margin-bottom: 15px; }
        .bubble { padding: 15px; border-radius: 16px; margin-bottom: 12px; background: #1a1a1c; border-left: 4px solid #333; font-size: 14px; animation: fadeIn 0.4s ease; }
        .pos { border-left-color: var(--blue); background: rgba(0, 210, 255, 0.05); }
        .neg { border-left-color: var(--p); background: rgba(255, 77, 148, 0.05); }
        .input-bar { background: #1a1a1c; border-radius: 12px; padding: 5px 15px; display: flex; border: 1px solid #333; }
        input { border: none; background: transparent; flex: 1; padding: 12px; outline: none; font-size: 15px; color: white; }
        .stat-val { font-size: 32px; font-weight: 900; color: var(--g); }
        .ai-text { font-size: 14px; color: #bbb; background: rgba(0,0,0,0.5); padding: 20px; border-radius: 16px; border: 1px solid #333; line-height: 1.7; min-height: 100px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; } }
    </style>
</head>
<body>

    <div class="panel">
        <h3>System Stats / å±æ€§</h3>
        <div style="flex:1; display:flex; align-items:center;"><canvas id="radar"></canvas></div>
        <div style="margin-top:20px;"><div style="color:#666; font-size:12px;">å½“å‰ç­‰çº§</div><div class="stat-val">AGENT LV.1</div></div>
    </div>

    <div class="panel">
        <div style="display:flex; justify-content:space-between;">
            <h3>Brain Dump / æ„è¯†æµ</h3>
            <div class="stat-val" style="font-size:20px;">ğŸª™ <span id="coins">1000</span></div>
        </div>
        <div id="dumpArea"></div>
        <div class="input-bar"><input type="text" id="masterInput" placeholder="è¾“å…¥æƒ³æ³•ï¼ŒAIå°†è‡ªåŠ¨è°ƒå–è®°å¿†åˆ†æ..."></div>
    </div>

    <div class="panel">
        <h3>AI Strategic / æˆ˜ç•¥ä¸­å¿ƒ</h3>
        <div class="ai-text" id="aiStatus">ç­‰å¾…æŒ‡ä»¤ä¸­... è®°å½•æƒ³æ³•åï¼ŒAI å°†ç»“åˆå†å²è®°å¿†ä¸ºæ‚¨åˆ¶å®šç­–ç•¥ã€‚</div>
        <button onclick="location.reload()" style="margin-top:auto; padding:15px; border-radius:12px; border:1px solid var(--p); background:transparent; color:var(--p); font-weight:bold; cursor:pointer;">åˆ·æ–°è®°å¿†åŒæ­¥</button>
    </div>

<script>
    const SUPABASE_URL = 'https://zcnmdyvaxrjjhvymjzsb.supabase.co';const SUPABASE_URL = 'https://zcnmdyvaxrjjhvymjzsb.supabase.co'ï¼›
    const SUPABASE_KEY = 'sb_publishable_JVEN8RBiF0xuPKl2oVhpQA_rywUiJTY';const SUPABASE_KEY = ' sb_publishhable_jven8rbif0xupkl2ovhpqa_rywuijty 'ï¼›
    const DEEPSEEK_KEY = 'sk-520f594ef712411d97f24cf387047c1c'; // å·²ç»ä¸ºä½ å¡«å¥½ï¼

    const _supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);Const _supabase = supabaseã€‚createClient (SUPABASE_URL SUPABASE_KEY);

    // AI è®°å¿†åˆ†æé€»è¾‘
    async function thinkWithAI(newInput) {
        const statusEl = document.getElementById('aiStatus');
        statusEl.innerHTML = "<span style='color:var(--blue)'>âš¡ æ­£åœ¨è°ƒå–äº‘ç«¯è®°å¿†å¹¶æ€è€ƒ...</span>";

        // 1. è·å–æœ€è¿‘ 10 æ¡è®°å¿†ä½œä¸ºèƒŒæ™¯
        const { data } = await _supabase.from('life_logs').select('content').order('created_at', { ascending: false }).limit(10);
        const history = data ? data.map(i => i.content).reverse().join(' -> ') : "æ— å†å²è®°å¿†";

        try {   å°è¯•{
            const response = await fetch('https://api.deepseek.com/chat/completions', {Const response = await fetch('https://api.deepseek.com/chat/completions', {
                method: 'POST',   æ–¹æ³•:â€œæ–‡ç« â€,
                headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${DEEPSEEK_KEY}` },
                body: JSON.stringify({   èº«ä½“:JSON.stringify ({
                    model: "deepseek-chat",   æ¨¡å‹:â€œdeepseek-chatâ€,
                    messages: [   æ¶ˆæ¯:[
                        {role: "system", content: "ä½ æ˜¯ä¸€ä¸ªå†·é™çš„ç‰¹å·¥å¯¼å¸ˆã€‚ç”¨æˆ·ä¼šç»™ä½ æœ€è¿‘çš„ä¸€ç³»åˆ—æƒ³æ³•ã€‚è¯·æ ¹æ®è¿™äº›'è®°å¿†æµ'ï¼ŒæŒ‡å‡ºç”¨æˆ·æ˜¯å¦å­˜åœ¨è¨€è¡Œä¸ä¸€æˆ–æ‹–å»¶ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªæç®€çš„èµšé’±å»ºè®®ã€‚"},
                        {role: "user", content: `æˆ‘çš„è¿‘æœŸè®°å¿†æµï¼š${history} | å½“å‰æœ€æ–°æƒ³æ³•ï¼š${newInput}`}
                    ]
                })
            });
            const result = await response.json();Const result = await response.json()ï¼›
            statusEl.innerText = result.choices[0].message.content;
        } catch (e) {
            statusEl.innerText = "ğŸš¨ è¿æ¥ AI å¤±è´¥ï¼Œè¯·æ£€æŸ¥ API é¢åº¦æˆ–ç½‘ç»œã€‚";
        }
    }

    async function init() {   å¼‚æ­¥å‡½æ•°init() {
        const { data } = await _supabase.from('life_logs').select('*').order('created_at', { ascending: false });Const {data} = await _supabase.from('life_logs').select('*').order('created_at'ï¼Œ{å‡åºï¼šfalse})ï¼›
        if (data) {   If (data) {
            const area = document.getElementById('dumpArea');const area = document.getElementById('dumpArea')ï¼›
            area.innerHTML = '';
            let coins = 1000;
            data.forEach(log => {   æ•°æ®ã€‚forEach(log => {
                const div = document.createElement('div');const div = document.createElement('div')ï¼›
                div.className = `bubble ${log.category || 'note'}`;
                div.innerText = log.content;
                area.appendChild(div);
                coins += (log.coins || 0);
            });
            document.getElementById('coins').innerText = coins;
        }
    }

    document.getElementById('masterInput').addEventListener('keypress', async (e) => {
        if (e.key === 'Enter' && e.target.value.trim()) {
            const val = e.target.value;
            let type = 'note'; let reward = 10;
            if (/(åš|å†™|å‘|èµš|æ‹|å­¦)/.test(val)) { type = 'pos'; reward = 50; }
            await _supabase.from('life_logs').insert([{ content: val, category: type, coins: reward }]);
            e.target.value = '';
            await init();
            thinkWithAI(val); // è§¦å‘ AI è®°å¿†æ€è€ƒ
        }
    });

    init();
    const ctx = document.getElementById('radar').getContext('2d');
    new Chart(ctx, { type: 'radar', data: { labels: ['æ‰§è¡Œ', 'ç›®æ ‡', 'æ´å¯Ÿ', 'åˆ›æ–°', 'æ¢å¤', 'ä¸“æ³¨'], datasets: [{ data: [65, 80, 55, 45, 90, 60], backgroundColor: 'rgba(0, 210, 255, 0.2)', borderColor: '#00d2ff', borderWidth: 2 }] }, options: { scales: { r: { angleLines: { color: '#333' }, grid: { color: '#333' }, pointLabels: { color: '#888' }, ticks: { display: false } } }, plugins: { legend: { display: false } } } });
</script>
</body>
</html>
