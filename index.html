<!DOCTYPE html>
<html lang="zh-CN">   < html lang = "åº”ç”¨" >
<head>   < >è´Ÿè´£äºº
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Great Me - ä¼Ÿå¤§ä¹‹æˆ‘ V13.1</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>< script src = " https://cdn.jsdelivr.net
pm/@supabase supabase-js@2 " > < /è„šæœ¬>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>< script src = " https://cdn.jsdelivr.net
pm/chart.js " > < /è„šæœ¬>
    <style>
        :root { --bg: #fdfbff; --p: #ff4d94; --g: #ffb800; }
        body { background: var(--bg); font-family: -apple-system, sans-serif; margin: 0; display: grid; grid-template-columns: 320px 1fr 320px; height: 100vh; gap: 15px; padding: 15px; box-sizing: border-box; }
        @media (max-width: 768px) { body { grid-template-columns: 1fr; overflow-y: auto; height: auto; } .panel { height: 400px; margin-bottom: 15px; } }
        .panel { background: white; border-radius: 30px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); display: flex; flex-direction: column; overflow: hidden; border: 1px solid #eee; }
        .bubble { padding: 15px; border-radius: 18px; margin-bottom: 10px; border-left: 6px solid #eee; background: #f8f9fa; animation: pop 0.3s ease; }
        .pos { border-color: #339af0; background: #e7f5ff; }
        .neg { border-color: #ff6b6b; background: #fff5f5; }
        .input-bar { background: #f1f3f5; border-radius: 20px; padding: 5px 15px; display: flex; align-items: center; margin-top: auto; border: 2px solid transparent; }
        .input-bar:focus-within { border-color: var(--p); background: white; }
        input { border: none; background: transparent; flex: 1; padding: 12px; outline: none; font-size: 16px; }
        @keyframes pop { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: 0; } }
    </style>
</head>
<body>
    <div class="panel"><h3>ç‰¹å·¥å±æ€§çœ‹æ¿</h3><canvas id="radar"></canvas></div>
    <div class="panel">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <span style="font-weight:bold;">æ„è¯†æµæ•æ‰ (Brain Dump)</span>
            <b style="color:var(--g); font-size:20px;">ğŸª™ <span id="coins">1000</span></b>
        </div>
        <div id="dumpArea" style="flex:1; overflow-y:auto; margin: 15px 0;"></div>
        <div class="input-bar"><input type="text" id="masterInput" placeholder="è¾“å…¥æƒ³æ³•ï¼Œå›è½¦åŒæ­¥..."></div>
    </div>
    <div class="panel"><h3>AI æˆ˜ç•¥ä¸­å¿ƒ</h3><div id="aiStatus" style="font-size:14px; color:#666; line-height:1.6;">æ­£åœ¨ç›‘å¬æ‚¨çš„èµšé’±ä¸»çº¿...</div></div>

<script>
    const SUPABASE_URL = 'https://zcnmdyvaxrjjhvymjzsb.supabase.co';const SUPABASE_URL = 'https://zcnmdyvaxrjjhvymjzsb.supabase.co'ï¼›
    const SUPABASE_KEY = 'sb_publishable_JVEN8RBiF0xuPKl2oVhpQA_rywUiJTY';const SUPABASE_KEY = ' sb_publishhable_jven8rbif0xupkl2ovhpqa_rywuijty 'ï¼›
    const _supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);Const _supabase = supabaseã€‚createClient (SUPABASE_URL SUPABASE_KEY);

    async function init() {   å¼‚æ­¥å‡½æ•°init() {
        const { data } = await _supabase.from('life_logs').select('*').order('created_at', { ascending: false });Const {data} = await _supabase.from('life_logs').select('*').order('created_at'ï¼Œ{å‡åºï¼šfalse})ï¼›
        if (data) {   If (data) {
            const area = document.getElementById('dumpArea');const area = document.getElementById('dumpArea')ï¼›
            area.innerHTML = '';
            let totalCoins = 1000;   TotalCoins = 1000ï¼›
            data.forEach(log => {   æ•°æ®ã€‚forEach(log => {
                const div = document.createElement('div');const div = document.createElement('div')ï¼›
                div.className = `bubble ${log.category || 'note'}`;div.className = ' bubble ${log.category || 'note'} 'ï¼›
                div.innerText = log.content;
                area.appendChild(div);
                totalCoins += (log.coins || 0);totalCoins = (logã€‚å‚è€ƒä¹¦| | 0);
            });
            document.getElementById('coins').innerText = totalCoins;
        }
    }

    document.getElementById('masterInput').addEventListener('keypress', async (e) => {. getelementbyid(â€œmasterInputâ€)ã€‚addEventListener('keypress', async (e) => {
        if (e.key === 'Enter' && e.target.value.trim()) {if (e.key === 'Enter' && e.target.valueã€‚å‰Šå‡()){
            const val = e.target.value;   const val = e.target.valueï¼›
            let type = 'note';   Let type = 'note'ï¼›
            let reward = 0;   è®¾å¥–åŠ±= 0ï¼›
            if (/(å‘|å†™|åš|å­¦|å®Œæˆ|å°çº¢ä¹¦|æ‹|èµšé’±)/.test(val)) { type = 'pos'; reward = 50; }
            else if (/(ç„¦è™‘|æ‹–å»¶|ä¸æƒ³|ç´¯)/.test(val)) { type = 'neg'; reward = -100; }
            
            await _supabase.from('life_logs').insert([{ content: val, category: type, coins: reward }]);Await _supabase.from('life_logs').insert([{content: val, category: type, coins: reward}])ï¼›
            e.target.value = '';
            init();
        }
    });

    init();
    const ctx = document.getElementById('radar').getContext('2d');const ctx = document.getElementById('radar').getContext('2d')ï¼›
    new Chart(ctx, { type: 'radar', data: { labels: ['æ‰§è¡Œ', 'ç›®æ ‡', 'æ´å¯Ÿ', 'åˆ›æ–°', 'æ¢å¤', 'ä¸“æ³¨'], datasets: [{ data: [65,75,50,40,85,60], backgroundColor: 'rgba(255, 77, 148, 0.2)', borderColor: '#ff4d94', borderWidth: 2 }] }, options: { scales: { r: { ticks: { display: false } } }, plugins: { legend: { display: false } } } });æ–°å›¾è¡¨(ctx,{ç±»å‹:â€œé›·è¾¾â€,æ•°æ®:{æ ‡ç­¾:[â€œæ‰§è¡Œâ€,â€œç›®æ ‡â€ã€â€œæ´å¯Ÿâ€,â€œåˆ›æ–°â€,â€œæ¢å¤â€,â€œä¸“æ³¨â€),æ•°æ®é›†:[{æ•°æ®:[65ã€75ã€50ã€40ã€85ã€60),å†™æˆbackgroundColor:â€œrgba(255ã€77ã€148ã€0.2),borderColor: # ff4d94, borderWidth: 2}]},é€‰é¡¹:{å°ºåº¦:{r:{èœ±è™«:{æ˜¾ç¤º:å‡}}},æ’ä»¶:{ä¼ å¥‡:{æ˜¾ç¤º:å‡çš„  } } } });
</script>   > < /è„šæœ¬
</body>   èº«ä½“< / >
</html>
